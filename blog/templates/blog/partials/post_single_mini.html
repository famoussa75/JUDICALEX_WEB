    <!-- Carte Actualité 1 -->
    {% load static %}
    
    {% load social_extras %}

    {% load user_extras %}
    
    <div class="col-md-4">
        
            <div class="card p-3" style="border: none; box-shadow: none;">
                {% if post.image %}
                <a href="{% url 'blog.post_detail' post.slug %}">
                    <img src="{{ post.image.url }}" class="card-img-top" alt="Actu 1" style="height: 200px; object-fit: cover; border-radius: 15px; overflow: hidden;">
                </a>
                {% endif %}
                        <!-- Ligne Creator + Time -->
                
                <div class="">
                    {% if post.author|has_group:"Contributeur" %}
                    <div class="d-flex justify-content-between align-items-center mb-4 mt-2" style="gap: 10px;">
                      <span style="display: flex;align-items: center;min-width: 0;font-family: Jost;font-weight: 700;color: #143642;flex: 1;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;">
                          {% if post.author.photo %}
                              <img src="{{ post.author.photo.url }}"
                                   alt="{{ post.author.username }}"
                                   style="width: 34px; height: 34px; border-radius: 50%; object-fit: cover; margin-right: 5px; border: 1px solid;">
                          {% elif post.author|social_avatar %}
                              <img src="{{ post.author|social_avatar }}"
                                   alt="{{ post.author.username }}"
                                   style="width: 34px; height: 34px; border-radius: 50%; object-fit: cover; margin-right: 5px; border: 1px solid;">
                          {% else %}
                              <img src="{% static 'start/assets/statics/logo-icon.png' %}"
                                   alt="{{ post.author.username }}"
                                   style="width: 34px; height: 34px; border-radius: 50%; object-fit: cover; margin-right: 5px; border: 1px solid;">
                          {% endif %}
                  
                          <span style="overflow: hidden;text-overflow: ellipsis;white-space: nowrap;display: inline-block;max-width: 180px;">
                              {{ post.author.first_name }} {{ post.author.last_name }}
                          </span>
                      </span>
                  </div>
                  
                    {% else %}
                    <div class="d-flex justify-content-between align-items-center mb-4 mt-2" style="gap: 10px;">
                        <span style=" display: flex;align-items: center;min-width: 0;font-family: Jost;font-weight: 700;color: #143642;flex: 1;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;">
                            <img src="{% static 'start/assets/statics/logo-icon.png' %}" alt="{{ post.author.username }}" style="width: 34px; height: 34px; border-radius: 50%; object-fit: cover; margin-right: 5px; border: 1px solid;">
                    
                            <span style="overflow: hidden;text-overflow: ellipsis; white-space: nowrap;display: inline-block;max-width: 180px;">
                                Judicalex Guinée
                            </span>
                        </span>
                    </div>
                  

                    {% endif %}
                    <a href="{% url 'blog.post_detail' post.slug %}">
                        <h5 class="card-title" style="font-family: Jost; font-weight: 700; color: #143642;">
                            {{post.title|striptags|truncatechars:70}}
                        </h5>
                    </a>
                    <p class="card-text" style="font-family: Jost; font-size: 15px; color: #555;">
                        {{ post.content|striptags|truncatechars:120|safe }}
                    </p>
                    <!-- Ligne Commentaires + Lire plus -->
                    <div class="d-flex justify-content-between align-items-center">
                    <span style="font-family: Jost; font-size: 14px; color: #888;"><i class="fa fa-comment"></i> {{ post.comments.count }} commentaire(s)</span>
                    <a href="{% url 'blog.post_detail' post.slug %}" style="color: #DFB23D; font-weight: 700;">Lire plus</a>
                    </div>
                     <!-- Carte Partage avec nombre de partages -->
                    <div class="share-section mt-3 position-relative">
                        <div class="d-flex justify-content-between align-items-center">
                        <!-- Nombre de partages -->
                        <span style="font-size: 13px; color: gray;">
                            <i class="fa fa-share-alt"></i> {{ post.shares }} partage(s)
                        </span>
                    
                        <!-- Bouton Partager -->
                        <button class="btn-share-pro" onclick="toggleShareOverlay(this)">
                            <i class="fa fa-share-alt"></i> Partager
                        </button>
                        </div>
                    
                        <!-- Overlay menu -->
                        <div class="share-overlay">
                        <a href="{% url 'share_post' post.slug 'facebook' %}" target="_blank" class="fb" title="Facebook">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="{% url 'share_post' post.slug 'twitter' %}" target="_blank" class="tw" title="X (Twitter)">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="{% url 'share_post' post.slug 'whatsapp' %}" target="_blank" class="wa" title="WhatsApp">
                            <i class="fab fa-whatsapp"></i>
                        </a>
                        <a href="{% url 'share_post' post.slug 'linkedin' %}" target="_blank" class="li" title="LinkedIn">
                            <i class="fab fa-linkedin-in"></i>
                        </a>

                        </div>
                    </div>
                </div>
            </div>
    </div>

         <!-- ===== CSS ===== -->
  <style>
    .share-section {
      position: relative;
      display: inline-block;
      width: 100%;
    }
    
    .btn-share-pro {
      background: #143642;
      color: #DFB23D;
      border: none;
      border-radius: 25px;
      font-family: Jost;
      font-weight: 600;
      padding: 5px 14px;
      cursor: pointer;
      transition: 0.3s;
    }
    .btn-share-pro:hover {
      background: #DFB23D;
      color: #143642;
    }
    
    /* Overlay menu */
    .share-overlay {
      position: absolute;
      top: -50px; /* ajustable selon carte */
      right: 0;
      background: #fff;
      border-radius: 10px;
      padding: 8px;
      display: flex;
      gap: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      opacity: 0;
      pointer-events: none;
      transform: translateY(-10px);
      transition: all 0.3s ease;
      z-index: 10;
    }
    
    .share-overlay.show {
      opacity: 1;
      pointer-events: auto;
      transform: translateY(0);
    }
    
    .share-overlay a {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 38px;
      height: 38px;
      border-radius: 50%;
      color: #fff;
      font-size: 16px;
      transition: transform 0.2s;
    }
    .share-overlay a:hover {
      transform: scale(1.2);
    }
    
    /* Couleurs par réseau */
    .fb { background: #3b5998; }
    .tw { background: #1da1f2; }
    .wa { background: #25d366; }
    .li { background: #0077b5; }
    .copy-link { background: #143642; }
    
    /* Responsive */
    @media (max-width: 576px) {
      .share-overlay {
        top: 40px;
        right: 0;
      }
    }
    </style>
    
    <!-- ===== JS ===== -->
    <script>
    function toggleShareOverlay(btn) {
      const overlay = btn.parentElement.nextElementSibling;
      overlay.classList.toggle('show');
    }
    

    
    // Fermer overlay si clic en dehors
    document.addEventListener('click', function(e) {
      document.querySelectorAll('.share-overlay').forEach(menu => {
        if (!menu.contains(e.target) && !menu.previousElementSibling.contains(e.target)) {
          menu.classList.remove('show');
        }
      });
    });
    </script>
   